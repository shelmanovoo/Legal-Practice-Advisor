# Legal-Practice-Advisor
Этот workflow автоматически загружает новые материалы из RSS-ленты «Judicial Information» (rapsinews.ru), сохраняет их в базу данных PostgreSQL (таблица jurLenta) и запускает внешний workflow, который обновляет граф в Neo4j.

## Автоматизированная система сбора и анализа юридической информации

Представьте себе помощника, который без устали мониторит судебные новости, извлекает из них факты, связывает дела в единую графовую сеть и позволяет вам исследовать всё это в пару кликов. Именно так работает эта система: она собирает, анализирует и визуализирует судебную информацию, используя PostgreSQL, Neo4j и нейросетевые модели.

## Общее представление

В основе проекта — четыре взаимосвязанных воркфлоу n8n. Каждый выполняет свою роль, а вместе они формируют полноценный конвейер: от получения данных из RSS-лент до интерактивного анализа в Telegram-боте.

<img width="593" height="696" alt="image" src="https://github.com/user-attachments/assets/51210bf0-e34e-4d2e-b4ed-26eb4556e505" />


## Архитектура системы

1. JurLenta_s (JurLenta_s.json)

Задача: автоматический сбор данных и базовая обработка.
	•	Запускается каждые 2 часа
	•	Источник: RSS-фид rapsinews.ru/judicial_information
	•	Сохраняет данные в PostgreSQL
	•	Защищает от дубликатов
	•	После обработки автоматически вызывает следующий воркфлоу — judlenta_neo4j

2. judlenta_neo4j (judlenta_neo4j.json)

Задача: превращает реляционные записи в графовые структуры Neo4j.
	•	Берёт свежие записи из PostgreSQL
	•	Использует LLM для генерации Cypher-запросов
	•	Записывает данные в Neo4j
	•	Автоматически удаляет пустые узлы
	•	Обновляет граф пакетно, через MERGE

3. judlenta_relationships (judlenta_relationships.json)

Задача: расширяет граф семантическими связями.

Типы связей, которые извлекает система:
HEARS — суд рассматривает дело
INVOLVES — участие лица
BASED_ON — основание дела
APPEALS_TO — иерархия судов
USES_PROCEDURE — применяемые процедуры
	•	Анализ выполняет LLM
	•	Обработанные записи отмечаются в PostgreSQL

4. Judlenta_agent (Judlenta_agent.json)

Задача: предоставляет удобный интерфейс через Telegram-бота.

Что умеет бот:
	•	Понимать естественный язык
	•	Генерировать Cypher-запросы
	•	Искать, анализировать и группировать дела
	•	Присылать структурированные результаты

## Технологический стек

Хранилища
	•	PostgreSQL — база для структурированных данных из RSS
	•	Neo4j — графовая модель судебных связей

ИИ-компоненты
	•	GPT-4.1-nano через OpenRouter
	•	LangChain для оркестрации запросов

Интеграции
	•	n8n — управление всем процессом
	•	Telegram Bot API
	•	RSS-агрегатор

## Установка и настройка

Требуется заранее:
	•	Установленный n8n
	•	Доступ к PostgreSQL и Neo4j
	•	Ключ OpenRouter
	•	Токен Telegram-бота

## Основные шаги:
	1.	Импортировать воркфлоу в n8n
	2.	Настроить доступы к PostgreSQL, Neo4j, OpenRouter и Telegram
	3.	Создать таблицу в PostgreSQL
	4.	Настроить базу judlentaauto в Neo4j

## Ключевые возможности

Автоматизация
	•	Сбор каждые 2 часа
	•	Обработка только новых записей
	•	Автоматическое извлечение смысловых связей

Аналитика
	•	Кластеризация и поиск тенденций
	•	Исследование судебной практики в виде графа

Интерактивность
	•	Запросы на естественном языке
	•	Мгновенные ответы
	•	Удобная работа в Telegram

## Как пользоваться

Для администратора:
	•	Включить воркфлоу JurLenta_s
	•	Однократно запустить judlenta_relationships для первичного формирования графа
	•	Настроить бота в Judlenta_agent

Для пользователя:
	•	Открыть Telegram-бот
	•	Задать вопрос привычным языком
	•	Получить готовый анализ

## Структура файлов

├── JurLenta_s.json              # Сбор данных
├── judlenta_neo4j.json          # Построение графа
├── judlenta_relationships.json  # Семантические связи
└── Judlenta_agent.json          # Интерфейс Telegram


## Безопасность
	•	Доступ к Neo4j — через HTTP Basic Auth
	•	API-ключи хранятся в n8n credentials
	•	Все Cypher-запросы ограничиваются LIMIT
	•	Проверяется корректность входных данных

## Планы развития
	•	Подключение новых источников
	•	Улучшение точности семантического анализа
